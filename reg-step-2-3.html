<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="img/FamilyTreeLogo.ico">
    <title>Family Tree | Reg. Step 2</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/registration.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">
</head>

<body>
    <section class="reg-container">
        <div>
            <img class="reg-logo" src="img/FamilyTreeLogo.png" alt="Family Tree Logo">
        </div>

        <div class="steps">
            <p class="steps-text"> <span class="black">Step 1: You</span> <i
                    class="ri-arrow-right-s-line steps-ico black"></i> <span class="black">Step 2: Family</span></p>
        </div>

        <div class="step-2-container">
            <div class="steps-2">
                <p class="steps-text"><span class="black">Father and Mother</span></p>
            </div>

            <div class="steps-2">
                <p class="steps-text"><span class="black">Brothers and Sisters</span></p>
            </div>

            <div class="steps-2">
                <p class="steps-text"><span class="black">Spouse, Sons, Daughters</span></p>
            </div>
        </div>

        <div class="form-container">
            <form class="form" data-optional>
                <h3>SPOUSE</h3>
                <div class="gender">
                    <label class="men">
                        <i class="ri-men-line"></i>
                        <span>male</span>
                    </label>
                    <label class="women">
                        <i class="ri-women-line"></i>
                        <span>female</span>
                    </label>
                </div>
                <div class="name">
                    <input type="text" name="last_name" placeholder="Last name" class="people-input last-name"> <br>
                    <input type="text" name="first_name" placeholder="First name" class="people-input first-name">
                    <input type="text" name="middle_name" placeholder="Middle name" class="people-input middle-name">
                </div>
                <div class="dmy">
                    <input type="text" name="day" placeholder="dd" maxlength="2" class="people-input b-day">
                    <input type="text" name="month" placeholder="mm" maxlength="2" class="people-input b-month">
                    <input type="text" name="year" placeholder="yy" maxlength="4" class="people-input b-year">
                </div>
            </form>

            <form class="form children" data-optional>
                <h3>?</h3>
                <div class="gender">
                    <label class="men">
                        <i class="ri-men-line"></i>
                        <span>male</span>
                    </label>
                    <label class="women">
                        <i class="ri-women-line"></i>
                        <span>female</span>
                    </label>
                </div>
                <div class="name">
                    <input type="text" name="last_name" placeholder="Last name" class="people-input last-name"> <br>
                    <input type="text" name="first_name" placeholder="First name" class="people-input first-name">
                    <input type="text" name="middle_name" placeholder="Middle name" class="people-input middle-name">
                </div>
                <div class="dmy">
                    <input type="text" name="day" placeholder="dd" maxlength="2" class="people-input b-day">
                    <input type="text" name="month" placeholder="mm" maxlength="2" class="people-input b-month">
                    <input type="text" name="year" placeholder="yy" maxlength="4" class="people-input b-year">
                </div>
            </form>

            <form class="form children" data-optional>
                <h3>?</h3>
                <div class="gender">
                    <label class="men">
                        <i class="ri-men-line"></i>
                        <span>male</span>
                    </label>
                    <label class="women">
                        <i class="ri-women-line"></i>
                        <span>female</span>
                    </label>
                </div>
                <div class="name">
                    <input type="text" name="last_name" placeholder="Last name" class="people-input last-name"> <br>
                    <input type="text" name="first_name" placeholder="First name" class="people-input first-name">
                    <input type="text" name="middle_name" placeholder="Middle name" class="people-input middle-name">
                </div>
                <div class="dmy">
                    <input type="text" name="day" placeholder="dd" maxlength="2" class="people-input b-day">
                    <input type="text" name="month" placeholder="mm" maxlength="2" class="people-input b-month">
                    <input type="text" name="year" placeholder="yy" maxlength="4" class="people-input b-year">
                </div>
            </form>
        </div>

        <div class="button-container">
            <a class="previous-btn" href="reg-step-2-2.html">Previous</a>
            <a id="next-step-2-3" class="next-btn" href="#">Next</a>
        </div>

    </section>

    <script src="js/registration.js"></script>
    <script src="js/not-full-info-error.js"></script>
    <script src="js/collectData.js"></script>
    <!-- Form Title by Gender Selection Script  -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const forms = document.querySelectorAll('.form');

            forms.forEach(form => {
                const genderLabels = form.querySelectorAll('.gender label');
                const header = form.querySelector('h3');
                const isChildForm = form.classList.contains('children');

                genderLabels.forEach(label => {
                    label.addEventListener('click', function () {
                        const isMale = label.classList.contains('men');

                        selectGender(genderLabels, isMale ? 'male' : 'female');

                        if (isChildForm) {
                            header.textContent = isMale ? "SON" : "DAUGHTER";
                        }
                    });
                });

                function selectGender(labels, gender) {
                    labels.forEach(label => {
                        const isMale = label.classList.contains('men');
                        const icon = label.querySelector('i');
                        const text = label.querySelector('span');

                        if ((gender === 'male' && isMale) || (gender === 'female' && !isMale)) {
                            icon.classList.add('black');
                            text.classList.add('black');
                        } else {
                            icon.classList.remove('black');
                            text.classList.remove('black');
                        }
                    });
                }
            });
        });
    </script>
</body>

</html>